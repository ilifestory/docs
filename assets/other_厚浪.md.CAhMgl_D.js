import{_ as l,c as t,o as e,a4 as n,j as s,a}from"./chunks/framework.CCJHkvW2.js";const k=JSON.parse('{"title":"厚浪","description":"","frontmatter":{},"headers":[],"relativePath":"other/厚浪.md","filePath":"other/厚浪.md","lastUpdated":1707190539000}'),p={name:"other/厚浪.md"},o=n('<h1 id="厚浪" tabindex="-1">厚浪 <a class="header-anchor" href="#厚浪" aria-label="Permalink to &quot;厚浪&quot;">​</a></h1><h2 id="框架图" tabindex="-1">框架图 <a class="header-anchor" href="#框架图" aria-label="Permalink to &quot;框架图&quot;">​</a></h2><h2 id="开发计划" tabindex="-1">开发计划 <a class="header-anchor" href="#开发计划" aria-label="Permalink to &quot;开发计划&quot;">​</a></h2><table><thead><tr><th style="text-align:center;"><strong>平台</strong></th><th style="text-align:center;"><strong>模块</strong></th><th style="text-align:center;"><strong>角色</strong></th><th style="text-align:left;"><strong>明细</strong></th><th style="text-align:center;"><strong>开始时间</strong></th><th style="text-align:center;"><strong>结束时间</strong></th><th style="text-align:center;"><strong>备注</strong></th></tr></thead><tbody><tr><td style="text-align:center;">Web</td><td style="text-align:center;">设备管理</td><td style="text-align:center;">-</td><td style="text-align:left;">设备地理位置标注、别名（店名）、联系电话、运维责任人</td><td style="text-align:center;">2023-08-18</td><td style="text-align:center;">2023-08-27</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">设备管理</td><td style="text-align:center;">-</td><td style="text-align:left;">设备激活（MAC地址）</td><td style="text-align:center;">2023-08-18</td><td style="text-align:center;">2023-08-27</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">设备管理</td><td style="text-align:center;">-</td><td style="text-align:left;">气压告警阈值设置</td><td style="text-align:center;">2023-08-18</td><td style="text-align:center;">2023-08-27</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">超级管理员</td><td style="text-align:left;">所有设备状态监测、运营状态（正常、故障）、设备状态添加修改删除、设备授权激活、设备位置、店名添加修改删除</td><td style="text-align:center;">2023-08-28</td><td style="text-align:center;">2023-09-03</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">超级管理员</td><td style="text-align:left;">出酒窗口1 出酒窗口2 、气体压力状态 、当前酒品名、出杯容量 、当日销售容量、剩余酒量、出杯数量 、本周销售容量、剩余酒量、出杯数量 、本月销售容量、剩余酒量、出杯数量 、指定时间销售容量、剩余酒量、出杯数量报表查询 、换酒提醒</td><td style="text-align:center;">2023-08-28</td><td style="text-align:center;">2023-09-03</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">超级管理员</td><td style="text-align:left;">用户添加修改删除 、用户分级权限设置修改 、用户名下设备归属设置修改删除</td><td style="text-align:center;">2023-08-28</td><td style="text-align:center;">2023-09-03</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">区域管理员</td><td style="text-align:left;">代理区域设备状态监测 、运营状态（正常、故障） 、设备状态添加修改删除 、设备授权激活 、设备位置、店名添加修改删除</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">区域管理员</td><td style="text-align:left;">出酒窗口1 出酒窗口2 、气体压力状态 、当前酒品名、出杯容量 、当日销售容量、剩余酒量、出杯数量 、本周销售容量、剩余酒量、出杯数量 、本月销售容量、剩余酒量、出杯数量 、指定时间销售容量、剩余酒量、出杯数量报表查询</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">区域管理员</td><td style="text-align:left;">用户添加修改删除 、用户分级权限设置修改 、用户名下设备归属设置修改删除</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店铺管理员</td><td style="text-align:left;">店铺设备状态监测 、运营状态（正常、故障） 、设备状态添加修改删除 、设备位置、店名添加修改删除</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店铺管理员</td><td style="text-align:left;">出酒窗口1 出酒窗口2 、气体压力状态 、设置当前酒品名、出杯容量 、当日销售容量、剩余酒量、出杯数量 、本周销售容量、剩余酒量、出杯数量 、本月销售容量、剩余酒量、出杯数量 、指定时间销售容量、剩余酒量、出杯数量报表查询 、换酒提醒</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店铺管理员</td><td style="text-align:left;">用户添加修改删除</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店员</td><td style="text-align:left;">店铺设备状态监测 、运营状态（正常、故障）</td><td style="text-align:center;">2023-09-11</td><td style="text-align:center;">2023-09-17</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店员</td><td style="text-align:left;">出酒窗口1 出酒窗口2 、气体压力状态 、当日销售容量、剩余酒量、出杯数量 、本周销售容量、剩余酒量、出杯数量 、本月销售容量、剩余酒量、出杯数量 、指定时间销售容量、剩余酒量、出杯数量报表查询 、换酒提醒</td><td style="text-align:center;">2023-09-11</td><td style="text-align:center;">2023-09-17</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">报表</td><td style="text-align:center;">-</td><td style="text-align:left;">按店名、按联系电话、按MAC序列号查询设备</td><td style="text-align:center;">2023-09-11</td><td style="text-align:center;">2023-09-17</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">Web</td><td style="text-align:center;">报表</td><td style="text-align:center;">-</td><td style="text-align:left;">指定设备日、周、月、指定时间段查询酒的销售数量</td><td style="text-align:center;">2023-09-11</td><td style="text-align:center;">2023-09-17</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">超级管理员</td><td style="text-align:left;">所有设备状态监测、运营状态（正常、故障）、设备状态添加修改删除、设备授权激活、设备位置、店名添加修改删除</td><td style="text-align:center;">2023-08-28</td><td style="text-align:center;">2023-09-03</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">超级管理员</td><td style="text-align:left;">出酒窗口1 出酒窗口2 、气体压力状态 、当前酒品名、出杯容量 、当日销售容量、剩余酒量、出杯数量 、本周销售容量、剩余酒量、出杯数量 、本月销售容量、剩余酒量、出杯数量 、指定时间销售容量、剩余酒量、出杯数量报表查询 、换酒提醒</td><td style="text-align:center;">2023-08-28</td><td style="text-align:center;">2023-09-03</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">超级管理员</td><td style="text-align:left;">用户添加修改删除 、用户分级权限设置修改 、用户名下设备归属设置修改删除</td><td style="text-align:center;">2023-08-28</td><td style="text-align:center;">2023-09-03</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">区域管理员</td><td style="text-align:left;">代理区域设备状态监测 、运营状态（正常、故障） 、设备状态添加修改删除 、设备授权激活 、设备位置、店名添加修改删除</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">区域管理员</td><td style="text-align:left;">出酒窗口1 出酒窗口2 、气体压力状态 、当前酒品名、出杯容量 、当日销售容量、剩余酒量、出杯数量 、本周销售容量、剩余酒量、出杯数量 、本月销售容量、剩余酒量、出杯数量 、指定时间销售容量、剩余酒量、出杯数量报表查询</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">区域管理员</td><td style="text-align:left;">用户添加修改删除 、用户分级权限设置修改 、用户名下设备归属设置修改删除</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店铺管理员</td><td style="text-align:left;">店铺设备状态监测 、运营状态（正常、故障） 、设备状态添加修改删除 、设备位置、店名添加修改删除</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店铺管理员</td><td style="text-align:left;">出酒窗口1 出酒窗口2 、气体压力状态 、设置当前酒品名、出杯容量 、当日销售容量、剩余酒量、出杯数量 、本周销售容量、剩余酒量、出杯数量 、本月销售容量、剩余酒量、出杯数量 、指定时间销售容量、剩余酒量、出杯数量报表查询 、换酒提醒</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店铺管理员</td><td style="text-align:left;">用户添加修改删除</td><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店员</td><td style="text-align:left;">店铺设备状态监测 、运营状态（正常、故障）</td><td style="text-align:center;">2023-09-11</td><td style="text-align:center;">2023-09-17</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">小程序</td><td style="text-align:center;">用户管理</td><td style="text-align:center;">店员</td><td style="text-align:left;">出酒窗口1 出酒窗口2 、气体压力状态 、当日销售容量、剩余酒量、出杯数量 、本周销售容量、剩余酒量、出杯数量 、本月销售容量、剩余酒量、出杯数量 、指定时间销售容量、剩余酒量、出杯数量报表查询 、换酒提醒</td><td style="text-align:center;">2023-09-11</td><td style="text-align:center;">2023-09-17</td><td style="text-align:center;">-</td></tr></tbody></table><p>| 嵌入式 | 功能控制逻辑 | - | 窗口1出酒控制时序、窗口2出酒控制时序 酒路1洁净水清洗时序、酒路2洁净水清洗时序、酒路3洁净水清洗时序、酒路4洁净水清洗时 酒路1洁净空气吹洗时序、酒路2洁净空气吹洗时序、酒路3洁净空气吹洗时序、酒路4洁净空气吹洗时序 等压灌装1控制逻辑及故障处理、等压灌装2控制逻辑及故障处理 与机柜大屏安卓控制主板 串口通信协议 （自行定义）玻璃杯感应器 串口通信协议（只读）气体压力传感器IIC通信协议 基于WIFI无线 MCU远程固件升级 | 2023-08-18 | 2023-09-10 | - | | 嵌入式 | 通信交互 | - | 与机柜大屏安卓控制主板 串口通信协议 （自行定义） 玻璃杯感应器 串口通信协议（只读） 气体压力传感器IIC通信协议 | 2023-08-18 | 2023-09-10 | - | | 嵌入式 | OTA固件升级 | - | 基于WIFI无线 MCU远程固件升级 | 2023-08-18 | 2023-09-10 | - |</p><div class="warning custom-block"><p class="custom-block-title">备注</p><p>四周时间</p><p>2023-08-21至2023-09-17</p></div><h1 id="厚浪协议" tabindex="-1">厚浪协议 <a class="header-anchor" href="#厚浪协议" aria-label="Permalink to &quot;厚浪协议&quot;">​</a></h1><h2 id="服务类型-service-type" tabindex="-1">服务类型 SERVICE_TYPE <a class="header-anchor" href="#服务类型-service-type" aria-label="Permalink to &quot;服务类型 SERVICE_TYPE&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">备注</p><p>标识不区分大小写</p></div><table><thead><tr><th style="text-align:center;"><strong>服务类型</strong></th><th style="text-align:center;"><strong>标识</strong></th><th style="text-align:center;"><strong>说明</strong></th></tr></thead><tbody><tr><td style="text-align:center;">心跳服务</td><td style="text-align:center;">Heartbeat</td><td style="text-align:center;">心跳数据</td></tr><tr><td style="text-align:center;">业务服务</td><td style="text-align:center;">Business</td><td style="text-align:center;">业务数据</td></tr><tr><td style="text-align:center;">事件服务</td><td style="text-align:center;">Event</td><td style="text-align:center;">事件数据</td></tr><tr><td style="text-align:center;">升级服务</td><td style="text-align:center;">Ota</td><td style="text-align:center;">设备升级</td></tr><tr><td style="text-align:center;">状态服务</td><td style="text-align:center;">Status</td><td style="text-align:center;">设备状态</td></tr><tr><td style="text-align:center;">登录服务</td><td style="text-align:center;">Auth</td><td style="text-align:center;">认证信息</td></tr><tr><td style="text-align:center;">其他服务</td><td style="text-align:center;">Other</td><td style="text-align:center;">其他扩展服务</td></tr></tbody></table><h2 id="心跳服务-heartbeat" tabindex="-1">心跳服务 Heartbeat <a class="header-anchor" href="#心跳服务-heartbeat" aria-label="Permalink to &quot;心跳服务 Heartbeat&quot;">​</a></h2><h2 id="网关心跳数据上报" tabindex="-1">网关心跳数据上报 <a class="header-anchor" href="#网关心跳数据上报" aria-label="Permalink to &quot;网关心跳数据上报&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">说明</p><p>enterpriseId为企业唯一标识, 必传;</p><p>projectId为企业下项目唯一标识, 必传;</p><p>token为设备登录认证通过后服务端颁发, 必传;</p><p>sn 设备sn, 必传;</p><p>enterpriseId、projectId、token、sn 同样适用于下面的协议内容</p></div><div class="warning custom-block"><p class="custom-block-title">备注</p><p>一个网关下挂载的多个子设备，根据子设备联网能力，若可联网直接上报数据, 若不能联网通过网关上传</p></div><div class="tip custom-block"><p class="custom-block-title">心跳属性说明</p><p>require为✅则属性必需。属性可根据产品特性进行扩展，扩展的属性需要在平台的产品模型中定义，且保持一致</p></div><table><thead><tr><th style="text-align:center;"><strong>Properties</strong></th><th style="text-align:center;"><strong>DataType</strong></th><th style="text-align:center;"><strong>Description</strong></th><th style="text-align:center;"><strong>Value-Min</strong></th><th style="text-align:center;"><strong>Value-Max</strong></th><th style="text-align:center;"><strong>Require</strong></th></tr></thead><tbody><tr><td style="text-align:center;">status</td><td style="text-align:center;">int</td><td style="text-align:center;">设备状态，0否，1是</td><td style="text-align:center;">-1</td><td style="text-align:center;">10</td><td style="text-align:center;">✅</td></tr><tr><td style="text-align:center;">battery</td><td style="text-align:center;">float</td><td style="text-align:center;">网关的电量</td><td style="text-align:center;">10</td><td style="text-align:center;">100</td><td style="text-align:center;">✅</td></tr><tr><td style="text-align:center;">networkSpeed</td><td style="text-align:center;">int</td><td style="text-align:center;">网速</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td><td style="text-align:center;">⬜</td></tr></tbody></table>',16),r=s("h3",{sn:"",id:"topic-iot-emqx-heartbeat",tabindex:"-1"},[a("Topic: $iot-emqx/heartbeat/ "),s("a",{class:"header-anchor",href:"#topic-iot-emqx-heartbeat","aria-label":'Permalink to "Topic: $iot-emqx/heartbeat/{sn}"'},"​")],-1),c=n(`<div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 企业标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterpriseId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 项目标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 令牌</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务类型 不区分大小写</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Heartbeet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令类型 上报: report  接收: receive 响应: response</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">report</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令唯一标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 设备列表</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">[</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                # 设备状态，0：不正常，1：正常</span></span>
<span class="line"><span style="color:#FFCB6B;">                &quot;status&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                # 网关电量百分比</span></span>
<span class="line"><span style="color:#FFCB6B;">                &quot;battery&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 60,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                # 网关网络速度</span></span>
<span class="line"><span style="color:#FFCB6B;">                &quot;networkSpeed&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 15,</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;">, </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 子设备数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 子设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 子设备状态，0：不正常，1：正常</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;status&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot;0&quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 子设备的电量 </span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;battery&quot;</span><span style="color:#FFCB6B;">:78,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 网关网络速度</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;networkSpeed&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 15,</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">        }</span></span>
<span class="line"><span style="color:#BABED8;">    ] </span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h2 id="业务服务-business" tabindex="-1">业务服务 Business <a class="header-anchor" href="#业务服务-business" aria-label="Permalink to &quot;业务服务 Business&quot;">​</a></h2><h2 id="先消费后打酒" tabindex="-1">先消费后打酒 <a class="header-anchor" href="#先消费后打酒" aria-label="Permalink to &quot;先消费后打酒&quot;">​</a></h2><table><thead><tr><th style="text-align:center;"><strong>Properties</strong></th><th style="text-align:center;"><strong>DataType</strong></th><th style="text-align:center;"><strong>Description</strong></th><th style="text-align:center;"><strong>Value-Min</strong></th><th style="text-align:center;"><strong>Value-Max</strong></th><th style="text-align:center;"><strong>require</strong></th></tr></thead><tbody><tr><td style="text-align:center;">ml</td><td style="text-align:center;">float</td><td style="text-align:center;">毫升数</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td><td style="text-align:center;">✅</td></tr><tr><td style="text-align:center;">userId</td><td style="text-align:center;">int</td><td style="text-align:center;">用户id</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td><td style="text-align:center;">✅</td></tr><tr><td style="text-align:center;">beerId</td><td style="text-align:center;">int</td><td style="text-align:center;">酒品ID</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td><td style="text-align:center;">✅</td></tr><tr><td style="text-align:center;">price</td><td style="text-align:center;">string</td><td style="text-align:center;">消费金额</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td><td style="text-align:center;">⬜</td></tr><tr><td style="text-align:center;">userName</td><td style="text-align:center;">string</td><td style="text-align:center;">用户名称</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td><td style="text-align:center;">⬜</td></tr></tbody></table>`,4),i=s("h3",{sn:"",id:"topic-iot-emqx-business",tabindex:"-1"},[a("Topic: $iot-emqx/business/ "),s("a",{class:"header-anchor",href:"#topic-iot-emqx-business","aria-label":'Permalink to "Topic: $iot-emqx/business/{sn}"'},"​")],-1),y=n(`<h3 id="发送" tabindex="-1">发送 <a class="header-anchor" href="#发送" aria-label="Permalink to &quot;发送&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 企业标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterpriseId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 项目标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 令牌</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务类型</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令类型 上报: report  接收: receive 响应: response</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">receive</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令唯一标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 事件列表</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">[</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 打酒毫升数</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;ml&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 300,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 用户Id</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;userId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 服务员</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;operaterId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 用户名称</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;userName&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">iTry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 订单号</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;orderSn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 消费金额</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;price&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 10.50,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 酒桶Id</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;bucketId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 酒品Id</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;beerId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 酒头号</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;number&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 状态</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;status&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#F78C6C;"> 0</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;">, </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 子设备数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 子设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">   </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 打酒毫升数</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;ml&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 300,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 用户Id</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;userId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 服务员</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;operaterId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 用户名称</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;userName&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">iTry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 订单号</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;orderSn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 消费金额</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;price&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 10.50,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 酒桶Id</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;bucketId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 酒品Id</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;beerId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 酒头号</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;number&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 2,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 状态</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;status&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#F78C6C;"> 0</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span></span>
<span class="line"><span style="color:#BABED8;">        }</span></span>
<span class="line"><span style="color:#BABED8;">    ] </span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><h3 id="响应" tabindex="-1">响应 <a class="header-anchor" href="#响应" aria-label="Permalink to &quot;响应&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 企业标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterpriseId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 项目标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 令牌</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务类型</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令类型 上报: report  接收: receive 响应: response</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">response</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令唯一标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 事件列表</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">[</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 返回码 0成功 1失败</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;resultCode&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;">, </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 子设备数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 子设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 返回码 0成功 1失败</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;resultCode&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span></span>
<span class="line"><span style="color:#BABED8;">        }</span></span>
<span class="line"><span style="color:#BABED8;">    ] </span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="无下发指令直接上报数据" tabindex="-1">无下发指令直接上报数据 <a class="header-anchor" href="#无下发指令直接上报数据" aria-label="Permalink to &quot;无下发指令直接上报数据&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterpriseId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">report</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">[</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#89DDFF;">        {</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">84f703d29b56</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;ml&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 300,</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;userId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;operaterId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;userName&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">iTry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;orderSn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwc</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;price&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 10.50,</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;beerId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;status&quot;</span><span style="color:#FFCB6B;">:0</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span></span>
<span class="line"><span style="color:#BABED8;">    ] </span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="发放广告" tabindex="-1">发放广告 <a class="header-anchor" href="#发放广告" aria-label="Permalink to &quot;发放广告&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#FFCB6B;">	&quot;enterprise_id&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#FFCB6B;">	&quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 1,</span></span>
<span class="line"><span style="color:#FFCB6B;">	&quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">	&quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Notice</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">	&quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">receive</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">	&quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">5b84568f-69aa-4718-828b-3ccf07330656</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">	&quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">30bdf357-e51b-4cee-800a-6ef3858eb802</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">	&quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [{</span></span>
<span class="line"><span style="color:#FFCB6B;">		&quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span></span>
<span class="line"><span style="color:#FFCB6B;">			&quot;noticeType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">101</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">			&quot;noticeTitle&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">测试广告100+</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">			&quot;noticeUrls&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://localhost:8888/profile/upload/2023/10/31/1698638015788_20231031141547A002.png</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span></span>
<span class="line"><span style="color:#89DDFF;">		}</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">		&quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">		&quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">asdfasdf</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">	}]</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="事件服务-event" tabindex="-1">事件服务 Event <a class="header-anchor" href="#事件服务-event" aria-label="Permalink to &quot;事件服务 Event&quot;">​</a></h2><h2 id="事件数据上报" tabindex="-1">事件数据上报 <a class="header-anchor" href="#事件数据上报" aria-label="Permalink to &quot;事件数据上报&quot;">​</a></h2><table><thead><tr><th style="text-align:center;"><strong>Properties</strong></th><th style="text-align:center;"><strong>DataType</strong></th><th style="text-align:center;"><strong>Description</strong></th><th style="text-align:center;"><strong>Value-Min</strong></th><th style="text-align:center;"><strong>Value-Max</strong></th><th style="text-align:center;"><strong>require</strong></th></tr></thead><tbody><tr><td style="text-align:center;">eventType</td><td style="text-align:center;">string</td><td style="text-align:center;">事件类型</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td><td style="text-align:center;">✅</td></tr></tbody></table>`,11),F=s("h3",{sn:"",id:"topic-iot-emqx-event",tabindex:"-1"},[a("Topic: $iot-emqx/event/ "),s("a",{class:"header-anchor",href:"#topic-iot-emqx-event","aria-label":'Permalink to "Topic: $iot-emqx/event/{sn}"'},"​")],-1),u=n(`<div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 企业标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterpriseId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 项目标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 令牌</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务类型</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令类型 上报: report  接收: receive 响应: response</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">report</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令唯一标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 事件列表</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">[</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span></span>
<span class="line"><span style="color:#FFCB6B;">                &quot;eventType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Warn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;">, </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 子设备数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 子设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                # 事件类型  比如 Warn: 告警</span></span>
<span class="line"><span style="color:#FFCB6B;">                &quot;eventType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Warn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">        }</span></span>
<span class="line"><span style="color:#BABED8;">    ] </span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h2 id="升级服务-ota" tabindex="-1">升级服务 Ota <a class="header-anchor" href="#升级服务-ota" aria-label="Permalink to &quot;升级服务 Ota&quot;">​</a></h2><p>第一步： 软固件升级任务下发</p>`,3),b=s("h3",{sn:"",id:"topic-iot-emqx-ota",tabindex:"-1"},[a("Topic: $iot-emqx/ota/ "),s("a",{class:"header-anchor",href:"#topic-iot-emqx-ota","aria-label":'Permalink to "Topic: $iot-emqx/ota/{sn}"'},"​")],-1),D=n(`<div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     # 企业标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterpriseId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 项目标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 令牌</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务类型</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Ota</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令类型 上报: report  接收: receive 响应: response</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">receive</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令唯一标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 设备列表</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">[</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 更新类型 硬件: firmware  固件: hardware</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;type&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">firmware</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 升级的目标版本号</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;version&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">v1.0.xxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 升级的资源文件包地址</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;url&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">https://domain/xxxxxx.zip</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 文件的大小</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;file_size&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 81362928,</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;">, </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 子设备数据</span></span>
<span class="line"><span style="color:#89DDFF;">        {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 子设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 更新类型</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;type&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">hardware</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 升级的目标版本号</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;version&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">v1.0.xxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 升级的资源文件包地址</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;url&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">https://domain/xxxxxx.zip</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">              # 文件的大小</span></span>
<span class="line"><span style="color:#FFCB6B;">              &quot;file_size&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 81362928,</span></span>
<span class="line"><span style="color:#89DDFF;">            }</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">        }</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><p>第二步： 软固件升级结束，升级结果反馈</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 企业标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterprise_id&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 项目标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 令牌</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务类型</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Ota</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令类型 上报: report  接收: receive 响应: response</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">response</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令唯一标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务内容</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">      {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 更新类型</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;type&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">hardware</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 升级结果返回码          &quot;resultCode&quot;: &quot;0&quot;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 当前设备的软、固件版本</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;version&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">v1.0.xxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 升级进度，非必须</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;progress&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 100,</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#89DDFF;">      }</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 更新类型</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;type&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">hardware</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 升级结果返回码</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;resultCode&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 当前设备的软、固件版本</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;version&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">v1.0.xxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 升级进度，非必须</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;progress&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 100,</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#BABED8;">      }</span></span>
<span class="line"><span style="color:#BABED8;">    ] </span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">软固件升级返回码说明</p><p>(&quot;0&quot;,&quot;处理成功&quot;),</p><p>(&quot;1&quot;,&quot;设备使用中&quot;),</p><p>(&quot;2&quot;,&quot;信号质量差&quot;),</p><p>(&quot;3&quot;,&quot;已经是最新版本&quot;),</p><p>(&quot;4&quot;,&quot;电量不足&quot;),</p><p>(&quot;5&quot;,&quot;剩余空间不足&quot;),</p><p>(&quot;6&quot;,&quot;下载超时&quot;),</p><p>(&quot;7&quot;,&quot;升级包校验失败&quot;),</p><p>(&quot;8&quot;,&quot;升级包类型不支持&quot;),</p><p>(&quot;9&quot;,&quot;内存不足&quot;),</p><p>(&quot;10&quot;,&quot;安装升级包失败&quot;),</p><p>(&quot;253&quot;,&quot;手动中断任务&quot;),</p><p>(&quot;254&quot;,&quot;设备不在线，执行任务超时&quot;),</p><p>(&quot;255&quot;,&quot;内部异常&quot;);</p></div><h2 id="状态服务-status" tabindex="-1">状态服务 status <a class="header-anchor" href="#状态服务-status" aria-label="Permalink to &quot;状态服务 status&quot;">​</a></h2><h2 id="设备状态" tabindex="-1">设备状态 <a class="header-anchor" href="#设备状态" aria-label="Permalink to &quot;设备状态&quot;">​</a></h2>`,6),d=s("h3",{sn:"",id:"topic-iot-emqx-status",tabindex:"-1"},[a("Topic: $iot-emqx/status/ "),s("a",{class:"header-anchor",href:"#topic-iot-emqx-status","aria-label":'Permalink to "Topic: $iot-emqx/status/{sn}"'},"​")],-1),q=n(`<div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 企业标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterprise_id&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 项目标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 令牌</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务类型</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">status</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令类型 上报: report  接收: receive 响应: response</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">report</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令唯一标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务内容</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">      {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 设备状态：ONLINE在线；OFFLINE离线</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;status&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">ONLINE</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#89DDFF;">      }</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          # 设备状态：ONLINE在线；OFFLINE离线</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;status&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">ONLINE</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#BABED8;">      }</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h2 id="认证服务-auth" tabindex="-1">认证服务 Auth <a class="header-anchor" href="#认证服务-auth" aria-label="Permalink to &quot;认证服务 Auth&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">说明</p><p>在平台新增设备填写SN</p><p>在平台生成appKey和appSecret, appSecret密钥平台只能查看一次, 请妥善保存. 可重置密钥, 重置后设备端需同步更新, 平台生成的appKey和appSecret需初始化设备时,烧到设备中去</p><p>通过appSecret的HMAC256算法加密username</p><p>加密值通过password参数上传</p><p>设备端提供3个参数直接调用Mqtt的connect函数</p></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 客户端ID 唯一, 相同客户端会挤掉之前的连接 组成: AppKey_EnterpriseId_ProjectId_ValidTime_SN</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # AppKey 服务器端会通过Appkey查找AppSecret</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # EnterpriseId 企业ID</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # ProjectId 项目ID</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # ValidTime 有效时间 单位分钟</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # SN 设备序列号</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;clientid&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">42aa08ea-84c1-4025-a7b2-c1f6efe547c2_1_1_10_xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 用户名称 组成: SN_IsCheckToken_timestamp </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # SN 设备序列号</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # IsCheckToken 是否Token认证 0: 不需要认证  1: 需要认证</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # timestamp 时间戳 毫秒数</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;username&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx_0_1692589200845</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 密码(AppSecret通过HMAC256 算法加密的值)</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;password&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">65aa08ea42aa08ea84c14025a7b</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="other-其他服务" tabindex="-1">OTHER 其他服务 <a class="header-anchor" href="#other-其他服务" aria-label="Permalink to &quot;OTHER 其他服务&quot;">​</a></h2>`,5),B=s("h3",{sn:"",id:"topic-iot-emqx-other",tabindex:"-1"},[a("Topic: $iot-emqx/other/ "),s("a",{class:"header-anchor",href:"#topic-iot-emqx-other","aria-label":'Permalink to "Topic: $iot-emqx/other/{sn}"'},"​")],-1),A=n(`<div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 企业标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;enterprise_id&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 项目标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;projectId&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 是否验证Token</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;checkToken&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 令牌</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;token&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">4AAQSkZJRgABAgAAAQABAAD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务类型</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;serviceType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">other</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令类型 上报: report  接收: receive 响应: response</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandType&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">report/receive/response</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 命令唯一标识</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;commandUUID&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # 服务内容</span></span>
<span class="line"><span style="color:#FFCB6B;">    &quot;devices&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">      {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 自定义标识</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;serviceTag&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">自定义</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;key&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot;value&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#89DDFF;">      }</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;isGateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 网关设备标识</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;sn&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">xxxxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 自定义标识</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;serviceTag&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">自定义</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # 数据</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;properties&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">            &quot;key&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot;value&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#BABED8;">      }</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h2 id="工作日报" tabindex="-1">工作日报 <a class="header-anchor" href="#工作日报" aria-label="Permalink to &quot;工作日报&quot;">​</a></h2><h2 id="web端" tabindex="-1">Web端 <a class="header-anchor" href="#web端" aria-label="Permalink to &quot;Web端&quot;">​</a></h2><p><a href="http://kupa.vip/iot/tool/device" target="_blank" rel="noreferrer">访问地址</a></p><p>用户: houlang_super_admin 密码: Houlang@</p><table><thead><tr><th style="text-align:center;"><strong>时间</strong></th><th style="text-align:center;"><strong>完成内容</strong></th><th style="text-align:center;"><strong>备注</strong></th></tr></thead><tbody><tr><td style="text-align:center;">2023-09-04</td><td style="text-align:center;">设备信息、设备监测、酒品信息、酒品销量、预订单、订单、店铺信息</td><td style="text-align:center;">目前都是用户输入，还需优化成用户选择或者点选方式交互</td></tr><tr><td style="text-align:center;">2023-09-05</td><td style="text-align:center;">优化用户选择或者点选方式交互, 企业信息、项目信息、区域信息</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">2023-09-06</td><td style="text-align:center;">完成订单上传业务, 提供API方式和MQTT2种方式</td><td style="text-align:center;">原始数据存MongoDB, 业务数据存Mysql</td></tr><tr><td style="text-align:center;">2023-09-07</td><td style="text-align:center;">完成权限分配和用户头像</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">2023-09-08</td><td style="text-align:center;">完成动态密码验证</td><td style="text-align:center;">密码验证方式为HMAC256</td></tr><tr><td style="text-align:center;">2023-09-09</td><td style="text-align:center;">完成心跳数据如mongoDB</td><td style="text-align:center;">心跳数据+预发订单存mongoDB</td></tr><tr><td style="text-align:center;">2023-09-10</td><td style="text-align:center;">完成设备状态监控</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">2023-09-11</td><td style="text-align:center;">完成订单统计</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">2023-09-12</td><td style="text-align:center;">完成广告模块</td><td style="text-align:center;"></td></tr></tbody></table>`,6),m=[o,r,c,i,y,F,u,b,D,d,q,B,A];function E(C,x,g,h,f,_){return e(),t("div",null,m)}const T=l(p,[["render",E]]);export{k as __pageData,T as default};
