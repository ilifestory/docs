import{_ as e,c as a,o as s,a4 as l}from"./chunks/framework.CCJHkvW2.js";const b=JSON.parse('{"title":"docker 安装elk","description":"","frontmatter":{},"headers":[],"relativePath":"tool/elk.md","filePath":"tool/elk.md","lastUpdated":1707190539000}'),t={name:"tool/elk.md"},n=l('<h1 id="docker-安装elk" tabindex="-1">docker 安装elk <a class="header-anchor" href="#docker-安装elk" aria-label="Permalink to &quot;docker 安装elk&quot;">​</a></h1><h2 id="基于elk-docker-prerequisites的说明-需要将系统的vm-max-map-count设置为-262144或更多" tabindex="-1">基于elk-docker Prerequisites的说明，需要将系统的vm.max_map_count设置为 262144或更多 <a class="header-anchor" href="#基于elk-docker-prerequisites的说明-需要将系统的vm-max-map-count设置为-262144或更多" aria-label="Permalink to &quot;基于elk-docker Prerequisites的说明，需要将系统的vm.max_map_count设置为 262144或更多&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>echo &quot;vm.max_map_count=262144&quot; &gt; /etc/sysctl.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="刷新配置" tabindex="-1">刷新配置 <a class="header-anchor" href="#刷新配置" aria-label="Permalink to &quot;刷新配置&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>sysctl -p</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>docker run -dit --name elk -p 5601:5601 -p 9200:9200 -p 5044:5044 -v --restart=always /docker/elk/es:/var/lib/elasticsearch -v /etc/localtime:/etc/localtime sebp/elk</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="更新restart" tabindex="-1">更新restart <a class="header-anchor" href="#更新restart" aria-label="Permalink to &quot;更新restart&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>docker  update --restart=always elk</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="单独部署elasticsearch" tabindex="-1">单独部署elasticsearch <a class="header-anchor" href="#单独部署elasticsearch" aria-label="Permalink to &quot;单独部署elasticsearch&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>docker run --name elasticsearch -d -e ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot; -e &quot;discovery.type=single-node&quot; -p 10920:9200 -p 10930:9300 --restart=always -v /docker/elasticsearch/data:/usr/share/elasticsearch/data -v /docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins elasticsearch:latest</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="单独安装-logstash" tabindex="-1">单独安装 logstash <a class="header-anchor" href="#单独安装-logstash" aria-label="Permalink to &quot;单独安装 logstash&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>docker pull logstash</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>docker run -d --restart=always --log-driver json-file --log-opt max-size=100m --log-opt max-file=2 -p 5044:5044 -p 10960:9600 --name logstash --privileged=true -v /docker/logstash/pipeline/logstash.conf:/usr/share/logstash/pipeline/logstash.conf -v /docker/logstash/config/logstash.yml:/usr/share/logstash/config/logstash.yml logstash:latest</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>',14),r=[n];function i(o,c,p,d,h,u){return s(),a("div",null,r)}const g=e(t,[["render",i]]);export{b as __pageData,g as default};
