import{_ as s,c as a,o as n,a4 as e}from"./chunks/framework.CCJHkvW2.js";const h=JSON.parse('{"title":"NVIDIA驱动安装","description":"","frontmatter":{},"headers":[],"relativePath":"ai/显卡驱动安装.md","filePath":"ai/显卡驱动安装.md","lastUpdated":1707212135000}'),l={name:"ai/显卡驱动安装.md"},p=e(`<h1 id="nvidia驱动安装" tabindex="-1">NVIDIA驱动安装 <a class="header-anchor" href="#nvidia驱动安装" aria-label="Permalink to &quot;NVIDIA驱动安装&quot;">​</a></h1><p>更新yum</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#C3E88D;"> update</span><span style="color:#C3E88D;"> -y</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#C3E88D;"> install</span><span style="color:#C3E88D;"> -y</span><span style="color:#C3E88D;"> gcc</span><span style="color:#C3E88D;"> gcc-c++</span><span style="color:#C3E88D;"> gcc-gfortran</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>确定是否存在nouveau</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsmod</span><span style="color:#89DDFF;"> |</span><span style="color:#FFCB6B;">grep</span><span style="color:#C3E88D;"> nouveau</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>若存在输入以下命令</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#C3E88D;"> /etc/default/grub</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>找到该行GRUB CMDLINE LINUX=&quot;&quot;添加</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">GRUB</span><span style="color:#C3E88D;"> CMDLINE</span><span style="color:#C3E88D;"> LINUX=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rd.driver.blacklist=nouveau nouveau.modeset=</span><span style="color:#89DDFF;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>保存关闭 更新grub配置文件并重启，输入以下命令</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">grub2-mkconfig</span><span style="color:#C3E88D;"> -o</span><span style="color:#C3E88D;"> /boot/grub2/grub.cfg</span></span>
<span class="line"><span style="color:#FFCB6B;">reboot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>最后再次执行没有输出</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsmod</span><span style="color:#89DDFF;"> |</span><span style="color:#FFCB6B;">grep</span><span style="color:#C3E88D;"> nouveau</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="内核更新" tabindex="-1">内核更新 <a class="header-anchor" href="#内核更新" aria-label="Permalink to &quot;内核更新&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#C3E88D;"> -y</span><span style="color:#C3E88D;"> install</span><span style="color:#C3E88D;"> epel-release</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#C3E88D;"> -y</span><span style="color:#C3E88D;"> install</span><span style="color:#C3E88D;"> kernel-devel</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 内核版本对比，要保持一致</span></span>
<span class="line"><span style="color:#FFCB6B;">rpm</span><span style="color:#C3E88D;"> -qa</span><span style="color:#89DDFF;"> |</span><span style="color:#FFCB6B;"> grep</span><span style="color:#C3E88D;"> kernel</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 不一致更新版本</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#C3E88D;"> update</span></span>
<span class="line"><span style="color:#FFCB6B;">reboot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="驱动下载" tabindex="-1">驱动下载 <a class="header-anchor" href="#驱动下载" aria-label="Permalink to &quot;驱动下载&quot;">​</a></h2><p><a href="https://www.nvidia.com/Download/index.aspx?lang=en-us" target="_blank" rel="noreferrer">驱动下载</a></p><h2 id="修改驱动权限" tabindex="-1">修改驱动权限 <a class="header-anchor" href="#修改驱动权限" aria-label="Permalink to &quot;修改驱动权限&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">chmod</span><span style="color:#C3E88D;"> a+x</span><span style="color:#C3E88D;"> NVIDIA-Linux-x86_64-535.129.03.run</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="执行" tabindex="-1">执行 <a class="header-anchor" href="#执行" aria-label="Permalink to &quot;执行&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">./NVIDIA-Linux-x86_64-535.129.03.run</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="回答默认yes" tabindex="-1">回答默认yes <a class="header-anchor" href="#回答默认yes" aria-label="Permalink to &quot;回答默认yes&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yes</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 出现</span></span>
<span class="line"><span style="color:#FFCB6B;">Would</span><span style="color:#C3E88D;"> you</span><span style="color:#C3E88D;"> like</span><span style="color:#C3E88D;"> to</span><span style="color:#C3E88D;"> run</span><span style="color:#C3E88D;"> the</span><span style="color:#C3E88D;"> nvidia-xconfigutility</span><span style="color:#C3E88D;"> to</span><span style="color:#C3E88D;"> automatically</span><span style="color:#C3E88D;"> update</span><span style="color:#C3E88D;"> your</span><span style="color:#C3E88D;"> x</span><span style="color:#C3E88D;"> configuration</span><span style="color:#C3E88D;"> so</span><span style="color:#C3E88D;"> that</span><span style="color:#C3E88D;"> the</span><span style="color:#C3E88D;"> NVIDIA</span><span style="color:#C3E88D;"> x</span><span style="color:#C3E88D;"> driver</span><span style="color:#C3E88D;"> will</span><span style="color:#C3E88D;"> be</span><span style="color:#C3E88D;"> used</span><span style="color:#C3E88D;"> when</span><span style="color:#C3E88D;"> you</span><span style="color:#C3E88D;"> restart</span><span style="color:#C3E88D;"> x?</span><span style="color:#C3E88D;"> Any</span><span style="color:#C3E88D;"> pre-existing</span><span style="color:#C3E88D;"> x</span><span style="color:#C3E88D;"> confile</span><span style="color:#C3E88D;"> will</span><span style="color:#C3E88D;"> be</span><span style="color:#C3E88D;"> backed</span><span style="color:#C3E88D;"> up.</span></span>
<span class="line"><span style="color:#FFCB6B;">选择no</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="查看是否安装成功" tabindex="-1">查看是否安装成功 <a class="header-anchor" href="#查看是否安装成功" aria-label="Permalink to &quot;查看是否安装成功&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">nvidia-smi</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,25),o=[p];function r(t,c,i,d,u,y){return n(),a("div",null,o)}const m=s(l,[["render",r]]);export{h as __pageData,m as default};
