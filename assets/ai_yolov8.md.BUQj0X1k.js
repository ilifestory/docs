import{_ as s,c as a,o as n,a4 as l,b9 as e,ba as p}from"./chunks/framework.CCJHkvW2.js";const g=JSON.parse('{"title":"yolov8","description":"","frontmatter":{},"headers":[],"relativePath":"ai/yolov8.md","filePath":"ai/yolov8.md","lastUpdated":1714021425000}'),t={name:"ai/yolov8.md"},o=l('<h1 id="yolov8" tabindex="-1">yolov8 <a class="header-anchor" href="#yolov8" aria-label="Permalink to &quot;yolov8&quot;">​</a></h1><h2 id="创建yolov8-conda环境" tabindex="-1">创建yolov8 conda环境 <a class="header-anchor" href="#创建yolov8-conda环境" aria-label="Permalink to &quot;创建yolov8 conda环境&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">conda</span><span style="color:#C3E88D;"> create</span><span style="color:#C3E88D;"> -n</span><span style="color:#C3E88D;"> yolov8</span><span style="color:#C3E88D;"> python=</span><span style="color:#F78C6C;">3.12</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">conda</span><span style="color:#C3E88D;"> activate</span><span style="color:#C3E88D;"> yolov8</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="安装-pytorch-cpu版的" tabindex="-1">安装 pytorch (cpu版的) <a class="header-anchor" href="#安装-pytorch-cpu版的" aria-label="Permalink to &quot;安装 pytorch (cpu版的)&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">conda</span><span style="color:#C3E88D;"> install</span><span style="color:#C3E88D;"> pytorch</span><span style="color:#C3E88D;"> torchvision</span><span style="color:#C3E88D;"> torchaudio</span><span style="color:#C3E88D;"> cpuonly</span><span style="color:#C3E88D;"> -c</span><span style="color:#C3E88D;"> pytorch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="安装ultralytics" tabindex="-1">安装ultralytics <a class="header-anchor" href="#安装ultralytics" aria-label="Permalink to &quot;安装ultralytics&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">pip</span><span style="color:#C3E88D;"> install</span><span style="color:#C3E88D;"> ultralytics</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>或</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">conda</span><span style="color:#C3E88D;"> install</span><span style="color:#C3E88D;"> -c</span><span style="color:#C3E88D;"> conda-forge</span><span style="color:#C3E88D;"> ultralytics</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="预测结果" tabindex="-1">预测结果 <a class="header-anchor" href="#预测结果" aria-label="Permalink to &quot;预测结果&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yolo</span><span style="color:#C3E88D;"> predict</span><span style="color:#C3E88D;"> model=yolov8n.pt</span><span style="color:#C3E88D;"> source=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://ultralytics.com/images/bus.jpg</span><span style="color:#89DDFF;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="pt-onnx" tabindex="-1">pt-&gt;onnx <a class="header-anchor" href="#pt-onnx" aria-label="Permalink to &quot;pt-&gt;onnx&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yolo</span><span style="color:#C3E88D;"> export</span><span style="color:#C3E88D;"> model=yolov8n.pt</span><span style="color:#C3E88D;"> imgsz=</span><span style="color:#F78C6C;">640</span><span style="color:#C3E88D;"> format=onnx</span><span style="color:#C3E88D;"> opset=</span><span style="color:#F78C6C;">12</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="训练" tabindex="-1">训练 <a class="header-anchor" href="#训练" aria-label="Permalink to &quot;训练&quot;">​</a></h2><p>层级结构 <img src="'+e+'" alt="An image"></p><p><img src="'+p+`" alt="An image"></p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>root</span></span>
<span class="line"><span>├── coco-zhangling.yaml</span></span>
<span class="line"><span>└── yolov8-datasets</span></span>
<span class="line"><span>    └── Annotations</span></span>
<span class="line"><span>    └── images</span></span>
<span class="line"><span>    |   └── xxx.png</span></span>
<span class="line"><span>    |   └── xxx.png</span></span>
<span class="line"><span>    |   └── ....png</span></span>
<span class="line"><span>    └── ImageSets</span></span>
<span class="line"><span>    |   └── test.txt</span></span>
<span class="line"><span>    |   └── train.txt</span></span>
<span class="line"><span>    |   └── trainval.txt</span></span>
<span class="line"><span>    |   └── val.txt</span></span>
<span class="line"><span>    └── labels</span></span>
<span class="line"><span>    |   └── xxx.txt</span></span>
<span class="line"><span>    |   └── xxx.txt</span></span>
<span class="line"><span>    |   └── ....txt</span></span>
<span class="line"><span>    └── test.txt</span></span>
<span class="line"><span>    └── train.txt</span></span>
<span class="line"><span>    └── val.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="danger custom-block"><p class="custom-block-title">注意</p><p>yolo训练数据查找图像对应标签时，自动将路径中的<code>images</code>替换为<code>labels</code>就可以定位图像对应的标签文件，所以images和labels文件夹不要改名, 并且在同一个目录下</p></div><h2 id="coco-zhangling-yaml" tabindex="-1">coco-zhangling.yaml <a class="header-anchor" href="#coco-zhangling-yaml" aria-label="Permalink to &quot;coco-zhangling.yaml&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">说明</p><p>path: 数据集指定的跟目录, 后面的训练、验证、测试都可以相对于此目录</p><p>train: 训练文件</p><p>val: 验证文件</p><p>test: 测试文件</p><p>训练集 测试集 验证集 一般是 7:2:1</p><p>nc: number class 类别数量</p><p>names: 所有类别名称</p></div><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Ultralytics YOLO 🚀, AGPL-3.0 license</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># COCO 2017 dataset https://cocodataset.org by Microsoft</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Documentation: https://docs.ultralytics.com/datasets/detect/coco/</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Example usage: yolo train data=coco.yaml</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># parent</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ├── ultralytics</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># └── datasets</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#     └── coco  ← downloads here (20.1 GB)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Train/val/test sets as 1) dir: path/to/imgs, 2) file: path/to/imgs.txt, or 3) list: [path/to/imgs1, path/to/imgs2, ..]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 图片存放路径</span></span>
<span class="line"><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> F:\\lingcloud\\conda\\datasets\\yolov8-datasets</span><span style="color:#676E95;font-style:italic;"> # dataset root dir</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 训练的文本数据 0     0.5087386526208009 0.5310866013071897 0.9766991189670919 0.9341230936819171</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#             类别        图片中心点x          图片中心点y             图片长度            图片宽度</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 相对于Path</span></span>
<span class="line"><span style="color:#F07178;">train</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> train.txt</span><span style="color:#676E95;font-style:italic;"> # train images (relative to &#39;path&#39;) 118287 images</span></span>
<span class="line"><span style="color:#F07178;">val</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> val.txt</span><span style="color:#676E95;font-style:italic;"> # val images (relative to &#39;path&#39;) 5000 images</span></span>
<span class="line"><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> test.txt</span><span style="color:#676E95;font-style:italic;"> # 20288 of 40670 images, submit to https://competitions.codalab.org/competitions/20794</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Classes</span></span>
<span class="line"><span style="color:#F07178;">names</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F78C6C;">  0</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> truck</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">nc</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  task=detect, mode=train, model=F:\\lingcloud\\conda\\yolov8\\models\\yolov8n.pt, data=coco-zhangling.yaml, epochs=1, time=None,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  patience=100, batch=16, imgsz=640, save=True, save_period=-1, cache=False, device=None, workers=8, project=None, name=train,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  exist_ok=False, pretrained=True, optimizer=auto, verbose=True, seed=0, deterministic=True, single_cls=False, rect=False,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  cos_lr=False, close_mosaic=10, resume=False, amp=True, fraction=1.0, profile=False, freeze=None, multi_scale=False,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  overlap_mask=True, mask_ratio=4, dropout=0.0, val=True, split=val, save_json=False, save_hybrid=False, conf=None,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  iou=0.7, max_det=300, half=False, dnn=False, plots=True, source=None, vid_stride=1, stream_buffer=False, visualize=False,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  augment=False, agnostic_nms=False, classes=None, retina_masks=False, embed=None, show=False, save_frames=False, save_txt=False,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  save_conf=False, save_crop=False, show_labels=True, show_conf=True, show_boxes=True, line_width=None, format=torchscript,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  keras=False, optimize=False, int8=False, dynamic=False, simplify=False, opset=None, workspace=4, nms=False, lr0=0.01, lrf=0.01,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  momentum=0.937, weight_decay=0.0005, warmup_epochs=3.0, warmup_momentum=0.8, warmup_bias_lr=0.1, box=7.5, cls=0.5, dfl=1.5,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  pose=12.0, kobj=1.0, label_smoothing=0.0, nbs=64, hsv_h=0.015, hsv_s=0.7, hsv_v=0.4, degrees=0.0, translate=0.1, scale=0.5, shear=0.0,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  perspective=0.0, flipud=0.0, fliplr=0.5, bgr=0.0, mosaic=1.0, mixup=0.0, copy_paste=0.0, auto_augment=randaugment, erasing=0.4,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  crop_fraction=1.0, cfg=None, tracker=botsort.yaml, save_dir=runs\\detect\\train</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#&quot;&quot;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h2 id="train-txt内容-测试集-验证集同样" tabindex="-1">train.txt内容 (测试集 验证集同样) <a class="header-anchor" href="#train-txt内容-测试集-验证集同样" aria-label="Permalink to &quot;train.txt内容 (测试集 验证集同样)&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>F:\\lingcloud\\conda\\datasets\\plate_detect_test\\images\\000265.jpg</span></span>
<span class="line"><span>F:\\lingcloud\\conda\\datasets\\plate_detect_test\\images\\000394.jpg</span></span>
<span class="line"><span>F:\\lingcloud\\conda\\datasets\\plate_detect_test\\images\\000396.jpg</span></span>
<span class="line"><span>F:\\lingcloud\\conda\\datasets\\plate_detect_test\\images\\000398.jpg</span></span>
<span class="line"><span>F:\\lingcloud\\conda\\datasets\\plate_detect_test\\images\\000399.jpg</span></span>
<span class="line"><span>....</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>或 相对目录, 相对于 <code>path</code></p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>images\\000265.jpg</span></span>
<span class="line"><span>images\\000394.jpg</span></span>
<span class="line"><span>images\\000396.jpg</span></span>
<span class="line"><span>images\\000398.jpg</span></span>
<span class="line"><span>images\\000399.jpg</span></span>
<span class="line"><span>....</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="labels目录下文件" tabindex="-1">labels目录下文件 <a class="header-anchor" href="#labels目录下文件" aria-label="Permalink to &quot;labels目录下文件&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>000395.txt</span></span>
<span class="line"><span>000265.txt</span></span>
<span class="line"><span>000393.txt</span></span>
<span class="line"><span>000394.txt</span></span>
<span class="line"><span>....</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>txt内容为</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>0 0.4011221122112212 0.8527103960396039 0.10891089108910895 0.06683168316831684</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">说明</p><p>0: 是类别</p><p>0.4011221122112212 0.8527103960396039: 中心点 x 和中心点 y</p><p>0.10891089108910895 0.06683168316831684: 图片宽高</p></div><h2 id="训练-1" tabindex="-1">训练 <a class="header-anchor" href="#训练-1" aria-label="Permalink to &quot;训练&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yolo</span><span style="color:#C3E88D;"> train</span><span style="color:#C3E88D;"> data=coco-zhangling.yaml</span><span style="color:#C3E88D;"> model=D:</span><span style="color:#BABED8;">\\A</span><span style="color:#C3E88D;">I</span><span style="color:#BABED8;">\\m</span><span style="color:#C3E88D;">odels</span><span style="color:#BABED8;">\\y</span><span style="color:#C3E88D;">olo</span><span style="color:#BABED8;">\\y</span><span style="color:#C3E88D;">olov8n.pt</span><span style="color:#C3E88D;"> epochs=</span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;"> lr0=</span><span style="color:#F78C6C;">0.01</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,33),i=[o];function c(r,d,b,m,u,y){return n(),a("div",null,i)}const v=s(t,[["render",c]]);export{g as __pageData,v as default};
